<!DOCTYPE html>
<html>
<head>
    <title>Test Firebase Access</title>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.0.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <h1>Firebase Connection Test</h1>
    <div id="status">Testing connection...</div>
    <div id="results"></div>
    
    <script>
        // Your existing Firebase config
        const firebaseConfig = {
            apiKey: "AIzaSyAic56lPgHqnMSJAgslpTAsNqqwY19UHiQ",
            authDomain: "sales-project-tracker.firebaseapp.com",
            projectId: "sales-project-tracker",
            storageBucket: "sales-project-tracker.firebasestorage.app",
            messagingSenderId: "275799582428",
            appId: "1:275799582428:web:a44d210b2d48765d537619",
            measurementId: "G-6ZQ7SL2DX9"
        };

        // Initialize Firebase
        try {
            firebase.initializeApp(firebaseConfig);
            const db = firebase.firestore();
            
            document.getElementById('status').innerHTML = 'Firebase initialized. Testing database access...';
            
            // Test read access
            db.collection('projects').limit(1).get()
                .then((snapshot) => {
                    document.getElementById('results').innerHTML += '<p style="color: green;">✓ Read access working! Found ' + snapshot.size + ' projects</p>';
                })
                .catch((error) => {
                    document.getElementById('results').innerHTML += '<p style="color: red;">✗ Read error: ' + error.message + '</p>';
                    document.getElementById('results').innerHTML += '<p>Error code: ' + error.code + '</p>';
                });
                
            // Test write access
            db.collection('test').add({
                timestamp: new Date(),
                test: true
            })
            .then(() => {
                document.getElementById('results').innerHTML += '<p style="color: green;">✓ Write access working!</p>';
            })
            .catch((error) => {
                document.getElementById('results').innerHTML += '<p style="color: red;">✗ Write error: ' + error.message + '</p>';
            });
            
        } catch (error) {
            document.getElementById('status').innerHTML = 'Failed to initialize Firebase';
            document.getElementById('results').innerHTML = '<p style="color: red;">Error: ' + error.message + '</p>';
        }
    </script>
</body>
</html>